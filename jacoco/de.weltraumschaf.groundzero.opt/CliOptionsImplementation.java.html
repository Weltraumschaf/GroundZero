<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>CliOptionsImplementation.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Ground Zero</a> &gt; <a href="index.html" class="el_package">de.weltraumschaf.groundzero.opt</a> &gt; <span class="el_source">CliOptionsImplementation.java</span></div><h1>CliOptionsImplementation.java</h1><pre class="source lang-java linenums">/*
 *  LICENSE
 *
 * &quot;THE BEER-WARE LICENSE&quot; (Revision 43):
 * &quot;Sven Strittmatter&quot; &lt;weltraumschaf@googlemail.com&gt; wrote this file.
 * As long as you retain this notice you can do whatever you want with
 * this stuff. If we meet some day, and you think this stuff is worth it,
 * you can buy me a non alcohol-free beer in return.
 *
 * Copyright (C) 2012 &quot;Sven Strittmatter&quot; &lt;weltraumschaf@googlemail.com&gt;
 */
package de.weltraumschaf.groundzero.opt;

import java.util.Collection;
import org.apache.commons.lang3.Validate;
import com.beust.jcommander.Parameter;
import com.google.common.collect.Lists;
import static de.weltraumschaf.groundzero.opt.CliOptions.DEFAULT_ENCODING;

/**
 * Holds the given command line arguments.
 *
 * Implementation for Apache Commons CLI and JComander.
 *
 * @author Sven Strittmatter &lt;weltraumschaf@googlemail.com&gt;
 */
<span class="fc" id="L27">public final class CliOptionsImplementation implements CliOptions {</span>

    /**
     * Path prefix to stript of suppressed file names.
     */
<span class="fc" id="L32">    @Parameter(names = {ShortOptions.PFX + ShortOptions.PATH_PREFIX,</span>
        LongOptions.PFX + LongOptions.PATH_PREFIX },
        description = OptionDescriptions.PATH_PREFIX)
    private String pathPrefix = &quot;&quot;;
    /**
     * Print debug information or not.
     */
    @Parameter(names = {ShortOptions.PFX + ShortOptions.DEBUG,
        LongOptions.PFX + LongOptions.DEBUG },
        description = OptionDescriptions.DEBUG)
    private boolean debug;
    /**
     * Print help message or not.
     *
     * Ignores all other options.
     */
    @Parameter(names = {ShortOptions.PFX + ShortOptions.HELP,
        LongOptions.PFX + LongOptions.HELP },
        description = OptionDescriptions.HELP, help = true)
    private boolean help;
    /**
     * Show version or net.
     */
    @Parameter(names = {ShortOptions.PFX + ShortOptions.VERSION,
        LongOptions.PFX + LongOptions.VERSION },
        description = OptionDescriptions.VERSION)
    private boolean version;
    /**
     * Collect all not recognized arguments as file pats.
     */
<span class="fc" id="L62">    @Parameter(description = &quot;report1.xml [report2.xml ... reportN.xml]&quot;)</span>
    private Collection&lt;String&gt; reportFiles = Lists.newArrayList();
    /**
     * Input file encoding.
     */
<span class="fc" id="L67">    @Parameter(names = {ShortOptions.PFX + ShortOptions.INPUT_ENCODING,</span>
        LongOptions.PFX + LongOptions.INPUT_ENCODING },
        description = OptionDescriptions.INPUT_ENCODING)
    private String inputEncoding = DEFAULT_ENCODING;
    /**
     * Output file encoding.
     */
<span class="fc" id="L74">    @Parameter(names = {ShortOptions.PFX + ShortOptions.OUTPUT_ENCODING,</span>
        LongOptions.PFX + LongOptions.OUTPUT_ENCODING },
        description = OptionDescriptions.OUTPUT_ENCODING)
    private String outputEncoding = DEFAULT_ENCODING;

    /**
     * Set path prefix option.
     *
     * @param pathPrefix must not be {@code null}
     */
    @Override
    public void setPathPrefix(final String pathPrefix) {
<span class="fc" id="L86">        Validate.notNull(pathPrefix);</span>
<span class="fc" id="L87">        this.pathPrefix = pathPrefix;</span>
<span class="fc" id="L88">    }</span>

    /**
     * Get the path prefix option.
     *
     * @return never {@code null} maybe empty
     */
    @Override
    public String getPathPrefix() {
<span class="fc" id="L97">        return pathPrefix;</span>
    }

    /**
     * Set report files.
     *
     * @param files must not be {@code null}
     */
    @Override
    public void setReportFiles(final Collection&lt;String&gt; files) {
<span class="fc" id="L107">        Validate.notNull(files);</span>
<span class="fc" id="L108">        reportFiles = files;</span>
<span class="fc" id="L109">    }</span>

    /**
     * Whether there are report files or not.
     *
     * @return {@code true} if {@link #getReportFiles()} is not empty, else {@code false}
     */
    @Override
    public boolean hasReportFiles() {
<span class="fc bfc" id="L118" title="All 2 branches covered.">        return !reportFiles.isEmpty();</span>
    }

    /**
     * Get report files.
     *
     * @return never {@code null} maybe empty
     */
    @Override
    public Collection&lt;String&gt; getReportFiles() {
<span class="fc" id="L128">        return reportFiles;</span>
    }

    /**
     * Set print debugging.
     *
     * @param onOrOff True enables, false disables (default).
     */
    @Override
    public void setDebug(final boolean onOrOff) {
<span class="fc" id="L138">        this.debug = onOrOff;</span>
<span class="fc" id="L139">    }</span>

    /**
     * Whether debug is enabled or not.
     *
     * @return Return true if debug is enabled, unless false.
     */
    @Override
    public boolean isDebug() {
<span class="fc" id="L148">        return debug;</span>
    }

    /**
     * Set version output option.
     *
     * @param onOrOff True will shows version, false not.
     */
    @Override
    public void setVersion(final boolean onOrOff) {
<span class="fc" id="L158">        this.version = onOrOff;</span>
<span class="fc" id="L159">    }</span>

    /**
     * Whether show version information is enabled or not.
     *
     * @return Return true if show version is enabled, unless false.
     */
    @Override
    public boolean isVersion() {
<span class="fc" id="L168">        return version;</span>
    }

    /**
     * Set show help message.
     *
     * @param onOrOff True enables, false disables (default)
     */
    @Override
    public void setHelp(final boolean onOrOff) {
<span class="fc" id="L178">        this.help = onOrOff;</span>
<span class="fc" id="L179">    }</span>

    /**
     * Whether show help message is enabled or not.
     *
     * @return Return true if show help message is enabled, unless false
     */
    @Override
    public boolean isHelp() {
<span class="fc" id="L188">        return help;</span>
    }

    /**
     * Get the input encoding.
     *
     * @return by default it is {@link #DEFAULT_ENCODING}
     */
    @Override
    public String getInputEncoding() {
<span class="fc" id="L198">        return inputEncoding;</span>
    }

    /**
     * Set the input encoding.
     *
     * @param inputEncoding must not be {@code null} or empty
     */
    @Override
    public void setInputEncoding(final String inputEncoding) {
<span class="fc" id="L208">        Validate.notEmpty(inputEncoding);</span>
<span class="fc" id="L209">        this.inputEncoding = inputEncoding;</span>
<span class="fc" id="L210">    }</span>

    /**
     * Get the output encoding.
     *
     * @return by default it is {@link #DEFAULT_ENCODING}
     */
    @Override
    public String getOutputEncoding() {
<span class="fc" id="L219">        return outputEncoding;</span>
    }

    /**
     * Set the output encoding.
     *
     * @param outputEncoding must not be {@code null} or empty
     */
    @Override
    public void setOutputEncoding(final String outputEncoding) {
<span class="fc" id="L229">        Validate.notEmpty(outputEncoding);</span>
<span class="fc" id="L230">        this.outputEncoding = outputEncoding;</span>
<span class="fc" id="L231">    }</span>

    @Override
    public String toString() {
<span class="fc" id="L235">        return &quot;  pathPrefix:     &quot; + pathPrefix + &quot;\n&quot;</span>
                + &quot;  debug:          &quot; + debug + &quot;\n&quot;
                + &quot;  help:           &quot; + help + &quot;\n&quot;
                + &quot;  version:        &quot; + version + &quot;\n&quot;
                + &quot;  reportFiles:    &quot; + reportFiles + &quot;\n&quot;
                + &quot;  inputEncoding:  &quot; + inputEncoding + &quot;\n&quot;
                + &quot;  outputEncoding: &quot; + outputEncoding;
    }

    @Override
    public boolean hasOnlyDefaultOptions() {
<span class="fc bfc" id="L246" title="All 2 branches covered.">        if (!DEFAULT_PATH_PREFIX.equals(pathPrefix)) {</span>
<span class="fc" id="L247">            return false;</span>
        }

<span class="fc bfc" id="L250" title="All 2 branches covered.">        if (debug != DEFAULT_DEBUG) {</span>
<span class="fc" id="L251">            return false;</span>
        }

<span class="fc bfc" id="L254" title="All 2 branches covered.">        if (help != DEFAULT_HELP) {</span>
<span class="fc" id="L255">            return false;</span>
        }

<span class="fc bfc" id="L258" title="All 2 branches covered.">        if (version != DEFAULT_VERSION) {</span>
<span class="fc" id="L259">            return false;</span>
        }

<span class="fc bfc" id="L262" title="All 2 branches covered.">        if (!DEFAULT_ENCODING.equalsIgnoreCase(inputEncoding)) {</span>
<span class="fc" id="L263">            return false;</span>
        }

<span class="fc bfc" id="L266" title="All 2 branches covered.">        if (!DEFAULT_ENCODING.equalsIgnoreCase(outputEncoding)) {</span>
<span class="fc" id="L267">            return false;</span>
        }

<span class="fc bfc" id="L270" title="All 2 branches covered.">        if (reportFiles.isEmpty()) {</span>
<span class="fc" id="L271">            return true;</span>
        }

<span class="fc" id="L274">        return false;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span></div></body></html>